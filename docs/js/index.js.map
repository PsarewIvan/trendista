{"version":3,"sources":["accordion.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["class ItcAccordion {\n    constructor(target, config) {\n        this._el =\n            typeof target === 'string'\n                ? document.querySelector(target)\n                : target;\n        const defaultConfig = {\n            alwaysOpen: true,\n            duration: 350,\n        };\n        this._config = Object.assign(defaultConfig, config);\n        this.addEventListener();\n    }\n\n    addEventListener() {\n        this._el.addEventListener('click', (e) => {\n            const elHeader = e.target.closest('.js-accordion-header');\n\n            if (!elHeader) {\n                return;\n            }\n            if (!this._config.alwaysOpen) {\n                const elOpenItem = this._el.querySelector(\n                    '.accordion__item_show'\n                );\n                if (elOpenItem) {\n                    elOpenItem !== elHeader.parentElement\n                        ? this.toggle(elOpenItem)\n                        : null;\n                }\n            }\n            this.toggle(elHeader.parentElement);\n        });\n    }\n\n    show(el) {\n        const elBody = el.querySelector('.accordion__body');\n        if (\n            elBody.classList.contains('collapsing') ||\n            el.classList.contains('accordion__item_show')\n        ) {\n            return;\n        }\n        elBody.style['display'] = 'block';\n        const height = elBody.offsetHeight;\n        elBody.style['height'] = 0;\n        elBody.style['overflow'] = 'hidden';\n        elBody.style['transition'] = `height ${this._config.duration}ms ease`;\n        elBody.classList.add('collapsing');\n        el.classList.add('accordion__item_slidedown');\n        elBody.offsetHeight;\n        elBody.style['height'] = `${height}px`;\n        window.setTimeout(() => {\n            elBody.classList.remove('collapsing');\n            el.classList.remove('accordion__item_slidedown');\n            elBody.classList.add('collapse');\n            el.classList.add('accordion__item_show');\n            elBody.style['display'] = '';\n            elBody.style['height'] = '';\n            elBody.style['transition'] = '';\n            elBody.style['overflow'] = '';\n        }, this._config.duration);\n    }\n\n    hide(el) {\n        const elBody = el.querySelector('.accordion__body');\n        if (\n            elBody.classList.contains('collapsing') ||\n            !el.classList.contains('accordion__item_show')\n        ) {\n            return;\n        }\n        elBody.style['height'] = `${elBody.offsetHeight}px`;\n        elBody.offsetHeight;\n        elBody.style['display'] = 'block';\n        elBody.style['height'] = 0;\n        elBody.style['overflow'] = 'hidden';\n        elBody.style['transition'] = `height ${this._config.duration}ms ease`;\n        elBody.classList.remove('collapse');\n        el.classList.remove('accordion__item_show');\n        elBody.classList.add('collapsing');\n        window.setTimeout(() => {\n            elBody.classList.remove('collapsing');\n            elBody.classList.add('collapse');\n            elBody.style['display'] = '';\n            elBody.style['height'] = '';\n            elBody.style['transition'] = '';\n            elBody.style['overflow'] = '';\n        }, this._config.duration);\n    }\n\n    toggle(el) {\n        el.classList.contains('accordion__item_show')\n            ? this.hide(el)\n            : this.show(el);\n    }\n}\n\n(() => {\n    const accordions = document.querySelectorAll('.js-accordion');\n\n    accordions.forEach((accordion) => {\n        new ItcAccordion(accordion, {\n            alwaysOpen: true,\n        });\n    });\n})();\n"]}